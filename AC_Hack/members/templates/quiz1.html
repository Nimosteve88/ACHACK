{% extends 'base.html' %}

{% block content %}
<div class="full-container">
        <div class="quiz-container">
            <!-- Text-based Quiz Boxes -->
            <div class="quiz-box">
                <h2>Quiz 1</h2>
                <p id="question">Random question?</p>
                <form id="quizForm">
                    <label for="optionA" id="optionA"><input type="radio" id="optionA" name="answer" value="A"><p>Option A</p></label>
                    <label for="optionB" id="optionB"><input type="radio" id="optionB" name="answer" value="B"><p>Option B</p></label>
                    <label for="optionC" id="optionC"><input type="radio" id="optionC" name="answer" value="C"><p>Option C</p></label>
                    <label for="optionD" id="optionD"><input type="radio" id="optionD" name="answer" value="D"><p>Option D</p></label>
                </form>
                <button type="button" id="submitBtn" onclick="insertUserChoice()">Submit</button>
                <!-- Add more questions as needed -->
                <div class="next-q" onclick="nextQ()">&#9654;</div>
                <div class="prev-q" onclick="prevQ()">&#9664;</div>
            </div>
        </div>
    <!-- Arrow for Next Page -->
</div>
<script>
    const quiz1Answers = ['C', 'B', 'C', 'C', 'B', 'C', 'B', 'C', 'C', 'D'];
    let qIndex = 0;
    const questionElement = document.getElementById("question");
    const formElement = document.getElementById("quizForm");
    const userAnswers = [];
    var score1, score2;
    let maxScore = quiz1Answers.length;
    const values = ['A', 'B', 'C', 'D'];
    const quizQuestions = [
        {
            question: "Random question",
            options: [" OptionA", " OptionB", " OptionC", " OptionD"],
        },
        {
            question: "What do most families spend the most energy on?",
            options: [" Using electronic", " Turning on lights", " Running the heater", " Watching TV"],
        },
        {
            question: "What does 'electrification' mean in simple terms",
            options: [" Turning off electrical appliances", " Using electricity to power things", " Studying electricity in school", " Creating new electrical gadgets"],
        }
    ];

    function updateQs(){
        const currentQ = quizQuestions[qIndex];
        questionElement.innerText = currentQ.question;

        const pElements = formElement.querySelectorAll('label p');
        const optionsElements = formElement.querySelectorAll('input[name="answer"]');
        
        
        pElements.forEach((p, index) => {
            p.innerText = currentQ.options[index];
            optionsElements[index].checked = false;
        });
    }

    function insertUserChoice(){
        const selectedAnswer = document.querySelector('input[name="answer"]:checked');
        if (selectedAnswer) {
            userAnswers.push(selectedAnswer.value);
        } 
        else {
            alert('Please select an answer before submitting lad');
        }
    }

    function nextQ(){
        if (qIndex < quiz1Answers.length - 1){
            q++;
            updateQs();
        }  
    }

    function prevQ(){
        if (qIndex > 0){
            qIndex--;
            updateQs();
        }
    }
    
    function getScore(userChoicesArr){
        count = 0;
        for (let i = 0; i < quiz1Answers.length - 1; i++){
            if (userChoicesArr[i] == quiz1Answers[i]){
                count++;
            }
        }
        return count;
    }
</script>
{% endblock %}
